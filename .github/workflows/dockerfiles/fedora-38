FROM fedora:38

RUN echo fastestmirror=1 >> /etc/dnf/dnf.conf
RUN dnf clean all
RUN dnf update -y
RUN dnf install -y rpm-build rpm-devel rpmlint make python39 bash diffutils patch rpmdevtools m4 tar xz dash git which make gcc gcc-c++ fuse fuse-devel gmp-devel ncurses-devel sqlite-devel re2-devel squashfuse wget
RUN rpmdev-setuptree


WORKDIR /build
ENV HOME=/build
RUN usermod --home /build root
RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
